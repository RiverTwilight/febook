# 小程序

如今，小程序已经成为可以与原生 APP、网站三足鼎立的存在。在国内互联网的人口红利加持之下，依托天然平台优势，小程序风光无限。

如果你已经掌握了 web 开发技术，开发小程序并不是一件难事。

-   平台原生 IDE（例如微信开发者工具）
-   跨端开发框架：例如 Taro、uniapp

## 整体架构

小程序与传统 web 单线程架构相比，是双线程架构。

渲染层和逻辑层由两个线程管理，逻辑层采用 JSCore 执行 js 代码，渲染层使用 webview 进行渲染。小程序有多个页面，所以渲染层存在多个 webview。

两个线程之间由 Native 层之间统一处理，无论是线程之间的通信，还是数据的传递，网络请求都是由 Native 层做转发。

双线程的好处不仅仅是一分为二而已，还有强大的 Native 层做背后支撑。Native 层除了做一些资源的动态注入，还负责着很多的事情，请求的转发，离线存储，组件渲染等等。

:::tip[Good to know]

由于实现原因与 iOS JavaScriptCore 限制，iOS 环境下的 Promise 是一个使用 setTimeout 模拟的 Polyfill。这意味

:::

### 小程序的优点

-   依赖于微信，可以快速获取用户

### 小程序的劣势

-   小程序的性能不如原生 APP
-   在 iOS 上，小程序不能独立运行，需要依赖宿主环境

## 跨端小程序框架是如何实现的

## 了解更多

-   [小程序架构解析](https://juejin.cn/post/6976805521407868958)
